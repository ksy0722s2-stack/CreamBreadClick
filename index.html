<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠˆí¬ë¦¼ë¹µ ì¥ì¸ í‚¤ìš°ê¸°</title>
    <style>
        body { text-align: center; font-family: 'Malgun Gothic', sans-serif; background-color: #fdf6e3; margin: 0; padding: 20px; overflow: hidden; }
        .container { 
            max-width: 450px; margin: auto; background: white; 
            padding: 25px; border-radius: 40px; border: 1px solid #eee; 
            height: 750px; position: relative; display: flex; flex-direction: column; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.05); overflow: hidden; 
        }

        /* ğŸ” ë³´ì•ˆ ê²Œì´íŠ¸ */
        #key-gate { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #2c3e50; z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; transition: opacity 0.5s; }
        .key-box { width: 80%; padding: 30px; background: rgba(255,255,255,0.1); border-radius: 20px; border: 1px solid rgba(255,255,255,0.2); }
        #access-key { width: 90%; padding: 12px; margin-top: 15px; border: none; border-radius: 10px; text-align: center; font-size: 18px; }

        /* ğŸ¬ ì¸íŠ¸ë¡œ */
        #intro-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #fff8e1; z-index: 4000; display: none; flex-direction: column; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.5s; }
        .intro-logo { width: 100px; height: 100px; object-fit: contain; }

        /* ğŸ® ê²Œì„ ë©”ì¸ */
        #game-content { display: none; flex-direction: column; height: 100%; position: relative; }
        .nav-header { display: flex; align-items: center; gap: 15px; padding-bottom: 15px; border-bottom: 1px solid #f0f0f0; margin-bottom: 10px; }
        .circle-btn { width: 35px; height: 35px; background-color: #757575; border-radius: 50%; border: none; cursor: pointer; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; transition: 0.3s; }
        .circle-btn:hover { background-color: #212121; }

        .page { display: none; flex-direction: column; flex-grow: 1; }
        .page.active { display: flex; }

        /* âœ¨ ìŠ¤ì½”ì–´ ë° ì •ë³´ */
        #score-container { height: 60px; display: flex; align-items: center; justify-content: center; }
        #score { font-size: 50px; font-weight: bold; color: #d2691e; margin: 0; transition: transform 0.1s ease-in-out; }
        .score-bump { transform: scale(1.15); }
        .sub-info { font-size: 13px; color: #888; font-weight: bold; margin-bottom: 15px; }

        /* ğŸ¥ í´ë¦­ ë²„íŠ¼ */
        #bread-btn { width: 160px; height: 160px; object-fit: contain; cursor: pointer; transition: transform 0.05s cubic-bezier(0.1, 0.7, 1.0, 0.1); user-select: none; margin: 0 auto; z-index: 10; }
        #bread-btn:active { transform: scale(0.90) rotate(-2deg); }

        .feed-btn { 
            background: linear-gradient(to bottom, #ff8a50, #ff7043);
            color: white; border: none; padding: 12px 30px; 
            border-radius: 50px; cursor: pointer; font-weight: bold; 
            font-size: 15px; margin: 15px auto 5px auto;
            box-shadow: 0 4px 15px rgba(255, 112, 67, 0.3);
            transition: 0.2s;
        }
        .feed-btn:active { transform: scale(0.98) translateY(2px); }

        /* ğŸ›’ ìƒì  ì˜ì—­ */
        .shop-container { 
            background: transparent; padding: 15px; 
            border-radius: 25px; border: 2px dashed #ffe082; 
            margin-top: 10px; margin-bottom: 70px; 
        }
        .upgrade-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .upgrade-label { font-size: 14px; font-weight: bold; color: #5d4037; text-align: left; }
        
        button.buy { 
            background: #ffa000; color: white; border: none; 
            padding: 8px 15px; border-radius: 12px; 
            cursor: pointer; font-weight: bold; min-width: 80px;
            box-shadow: 0 4px 0 #e68a00;
            transition: all 0.1s;
        }
        button.buy:active { transform: translateY(3px); box-shadow: 0 1px 0 #e68a00; }
        button.buy:disabled { background: #e0e0e0; color: #999; box-shadow: none; cursor: not-allowed; transform: none; }

        #admin-trigger { position: absolute; bottom: 15px; right: 15px; width: 35px; height: 35px; background: #757575; color: white; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 100; transition: 0.3s; }
        #admin-trigger:hover { background: #212121; }

        .floating-text { position: absolute; color: #d2691e; font-weight: bold; font-size: 24px; pointer-events: none; animation: float-up 0.6s ease-out forwards; z-index: 1000; }
        @keyframes float-up { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-80px) scale(1.2); opacity: 0; } }

        .modal-overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 6000; align-items: center; justify-content: center; backdrop-filter: blur(2px); }
        .modal-content { background: white; padding: 25px; border-radius: 25px; width: 80%; }
    </style>
</head>
<body>

<div class="container">
    <div id="key-gate">
        <div class="key-box">
            <h2>ACCESS KEY</h2>
            <input type="password" id="access-key" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            <button onclick="verifyKey()" style="width:100%; padding:12px; margin-top:20px; background:#3498db; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">ì ‘ì† ìŠ¹ì¸</button>
        </div>
    </div>

    <div id="intro-screen">
        <img class="intro-logo" src="https://cdn-icons-png.flaticon.com/512/992/992747.png">
        <p style="font-weight:bold; color:#d2691e; font-size: 18px; margin-top:15px;">ì¥ì¸ì˜ ê¸¸ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.</p>
        <button onclick="startGame()" style="margin-top:20px; padding:15px 45px; background:#ffa000; color:white; border:none; border-radius:50px; font-weight:bold; cursor:pointer;">ê²Œì„ ì‹œì‘</button>
    </div>

    <div id="game-content">
        <div class="nav-header">
            <button class="circle-btn" onclick="togglePage()" id="nav-btn"> > </button>
            <div id="page-title" style="font-weight:bold; color:#5d4037; font-size: 18px;">1 ìŠˆí¬ë¦¼ë¹µ: ì¥ì¸ ğŸ¥</div>
        </div>

        <div id="page-game" class="page active">
            <div id="score-container"><div id="score">0</div></div>
            <div class="sub-info">ìˆ™ë ¨ë„: <span id="info-power">1.0</span> / ìë™: <span id="info-auto">0</span>/ì´ˆ</div>
            
            <img id="bread-btn" src="https://cdn-icons-png.flaticon.com/512/992/992747.png" alt="ìŠˆí¬ë¦¼ë¹µ">
            
            <button class="feed-btn" onclick="tryFeed()">ğŸ˜‹ ìŠ¹ë¯¼ì´í•œí…Œ <span id="feed-n-display">1</span>ê°œì”© ë¨¹ì´ê¸°</button>
            <div id="feed-message" style="color:#e74c3c; font-weight:bold; height:20px; font-size:13px; margin-top:5px;"></div>
            
            <div class="shop-container">
                <div class="upgrade-row">
                    <div class="upgrade-label">ì†ë†€ë¦¼ ê°•í™” (+0.5)</div>
                    <button class="buy" onclick="buyClick()" id="btn-click">5 ğŸ¥</button>
                </div>
                <div class="upgrade-row">
                    <div class="upgrade-label">ì œë¹µê¸° ì„¤ì¹˜ (+<span id="next-auto-val">2</span>)</div>
                    <button class="buy" onclick="buyAuto()" id="btn-auto">30 ğŸ¥</button>
                </div>
                <div class="upgrade-row">
                    <div class="upgrade-label">ë¨¹ì´ê¸° ê°•í™” (+1)</div>
                    <button class="buy" onclick="buyFeedUpgrade()" id="btn-feed-up">100 ğŸ¥</button>
                </div>
            </div>
        </div>

        <div id="page-stats" class="page">
            <div style="text-align:left; padding:25px; background:#fff8e1; border-radius:25px; border: 1px solid #ffd54f;">
                <h3 style="margin-top:0; color:#5d4037; border-bottom: 2px solid #ffd54f; padding-bottom: 10px;">ğŸ“Š ì‹¤ì‹œê°„ í†µê³„</h3>
                <p>ì´ í´ë¦­ íšŸìˆ˜: <span id="st-clicks" style="font-weight:bold; color: #d2691e;">0</span>íšŒ</p>
                <p>ìŠ¹ë¯¼ì´ê°€ ë¨¹ì€ ë¹µ: <span id="st-fed" style="font-weight:bold; color: #d2691e;">0</span>ê°œ</p>
                <p style="color:#8e44ad; font-weight:bold; margin-top:20px;">ì˜ˆì€ì´ê°€ ì–´ì´ì—†ê²Œ ë³¸ íšŸìˆ˜: <span id="st-yeeun">0</span>íšŒ</p>
            </div>
        </div>

        <button id="admin-trigger" onclick="openAdmin()">â»</button>
    </div>

    <div id="robot-modal" class="modal-overlay"><div class="modal-content"><h3>ğŸ¤– ë³´ì•ˆ í™•ì¸</h3><p>ë‹¹ì‹ ì€ ë¡œë´‡ì¸ê°€ìš”?</p><div style="display:flex; gap:10px; margin-top:20px;"><button style="flex:1; background:#ff7043; color:white; padding:12px; border:none; border-radius:12px; font-weight:bold;" onclick="isRobot(true)">ë„¤</button><button style="flex:1; background:#2ecc71; color:white; padding:12px; border:none; border-radius:12px; font-weight:bold;" onclick="isRobot(false)">ì•„ë‹ˆìš”</button></div></div></div>
    <div id="admin-modal" class="modal-overlay"><div class="modal-content"><h3>ğŸ”’ ë³´ì•ˆ ì½”ë“œ ì¸ì¦</h3><input type="password" id="admin-input" placeholder="ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”" style="width:90%; padding:12px; border-radius:10px; border:1px solid #ddd; text-align:center;"><div style="margin-top:20px; display:flex; gap:10px;"><button onclick="checkAdminCode()" style="flex:1; background:#333; color:white; padding:12px; border:none; border-radius:12px; font-weight:bold;">í™•ì¸</button><button onclick="closeAdmin()" style="flex:1; background:#eee; padding:12px; border:none; border-radius:12px; font-weight:bold; color:#666;">ì·¨ì†Œ</button></div></div></div>
</div>

<script>
    const ENCODED_KEY = "Qjd4OS1LcTJQLXZSNW0tWnQ0Vw=="; 
    let breadCount = 0, clickPower = 1.0, autoPower = 0, clickCost = 5, autoCost = 30;
    let autoLevel = 2; // ì´ˆê¸° ìë™ ìƒì‚° ì¦ê°€ì¹˜ë¥¼ 2ë¡œ ìƒí–¥
    let feedAmount = 1, feedUpgradeCost = 100;
    let totalClicks = 0, totalFed = 0, bonusYeeun = 0, isStatsPage = false, isHuman = false;
    let usedCodes = [];

    function verifyKey() { if (btoa(document.getElementById('access-key').value) === ENCODED_KEY) { document.getElementById('key-gate').style.opacity = "0"; setTimeout(() => { document.getElementById('key-gate').style.display = "none"; document.getElementById('intro-screen').style.display = "flex"; setTimeout(() => document.getElementById('intro-screen').style.opacity = "1", 50); }, 500); } else alert("ì¸ì¦ ì‹¤íŒ¨"); }
    function startGame() { document.getElementById('intro-screen').style.opacity = "0"; setTimeout(() => { document.getElementById('intro-screen').style.display = "none"; document.getElementById('game-content').style.display = "flex"; updateUI(); }, 500); }
    function togglePage() { isStatsPage = !isStatsPage; document.getElementById('page-game').style.display = isStatsPage ? 'none' : 'flex'; document.getElementById('page-stats').style.display = isStatsPage ? 'flex' : 'none'; document.getElementById('page-title').innerText = isStatsPage ? "2 ë°ì´í„° í†µê³„ ğŸ“Š" : "1 ìŠˆí¬ë¦¼ë¹µ: ì¥ì¸ ğŸ¥"; document.getElementById('nav-btn').innerText = isStatsPage ? "<" : ">"; }

    document.getElementById('bread-btn').onclick = (e) => {
        breadCount += clickPower; totalClicks++;
        const text = document.createElement('div');
        text.className = 'floating-text';
        text.innerText = `+${clickPower.toFixed(1)}`;
        text.style.left = `${e.clientX - 20}px`; text.style.top = `${e.clientY - 40}px`;
        document.body.appendChild(text);
        setTimeout(() => text.remove(), 600);
        updateUI();
    };

    function tryFeed() { if (!isHuman) document.getElementById('robot-modal').style.display = 'flex'; else doFeed(); }
    function isRobot(b) { if(b) alert("ë¡œë´‡ ê¸ˆì§€!"); else { isHuman = true; document.getElementById('robot-modal').style.display = 'none'; doFeed(); } }
    function doFeed() {
        if (breadCount >= feedAmount) {
            breadCount -= feedAmount; totalFed += feedAmount;
            const msg = document.getElementById('feed-message');
            msg.innerText = (Math.floor(totalFed / 10) > Math.floor((totalFed - feedAmount) / 10)) ? "ì˜ˆì€ì´ê°€ ì–´ì´ì—†ê²Œ ì³ë‹¤ë´…ë‹ˆë‹¤! (-_-)" : "ìŠ¹ë¯¼ì´ê°€ ë¹µì„ ë§›ìˆê²Œ ë¨¹ì—ˆìŠµë‹ˆë‹¤!";
            setTimeout(() => msg.innerText = "", 2000);
            updateUI();
        } else alert("ìŠˆí¬ë¦¼ë¹µì´ ë¶€ì¡±í•©ë‹ˆë‹¤!");
    }

    function buyClick() { if (breadCount >= clickCost) { breadCount -= clickCost; clickPower += 0.5; clickCost = Math.floor(clickCost * 1.3); updateUI(); } }
    
    // âœ¨ ì œë¹µê¸° ê°•í™” ë¡œì§ ìˆ˜ì •: 2ê°œì”© ì˜¤ë¥´ë„ë¡ ë³€ê²½
    function buyAuto() { 
        if (breadCount >= autoCost) { 
            breadCount -= autoCost; 
            autoPower += autoLevel; // í˜„ì¬ ë ˆë²¨ë§Œí¼ ìƒì‚°ëŸ‰ ì¦ê°€
            autoLevel += 2;         // ë‹¤ìŒ ë ˆë²¨ì€ 2ê°€ ë” ì»¤ì§ (2->4->6...)
            autoCost = Math.floor(autoCost * 1.5); 
            updateUI(); 
        } 
    }
    
    function buyFeedUpgrade() { if (breadCount >= feedUpgradeCost) { breadCount -= feedUpgradeCost; feedAmount += 1; feedUpgradeCost = Math.floor(feedUpgradeCost * 2.2); updateUI(); } }
    function openAdmin() { document.getElementById('admin-modal').style.display = 'flex'; document.getElementById('admin-input').value = ""; document.getElementById('admin-input').focus(); }
    function closeAdmin() { document.getElementById('admin-modal').style.display = 'none'; }

    function checkAdminCode() {
        const code = document.getElementById('admin-input').value.trim();
        if (usedCodes.includes(code)) { alert("ì´ë¯¸ ì‚¬ìš©ëœ ë³´ì•ˆ ì½”ë“œì…ë‹ˆë‹¤."); return; }
        if (code === "SeungMinLoveYeon") { bonusYeeun += 10000; usedCodes.push(code); alert("ì¸ì¦ ì„±ê³µ! ì˜ˆì€ì´ ë³´ë„ˆìŠ¤ ì§€ê¸‰ ì™„ë£Œ."); updateUI(); closeAdmin(); } 
        else if (code === "SeungMinLoveCreamBread") { breadCount += 10000; usedCodes.push(code); alert("ì¸ì¦ ì„±ê³µ! ìŠˆí¬ë¦¼ë¹µ 10,000ê°œê°€ í•©ì‚°ë˜ì—ˆìŠµë‹ˆë‹¤!"); updateUI(); closeAdmin(); } 
        else alert("ìœ íš¨í•˜ì§€ ì•Šì€ ì½”ë“œì…ë‹ˆë‹¤.");
    }

    function updateUI() {
        const scoreEl = document.getElementById('score');
        scoreEl.innerText = Math.floor(breadCount).toLocaleString();
        scoreEl.classList.remove('score-bump'); void scoreEl.offsetWidth; scoreEl.classList.add('score-bump');

        document.getElementById('info-power').innerText = clickPower.toFixed(1);
        document.getElementById('info-auto').innerText = autoPower;
        document.getElementById('next-auto-val').innerText = autoLevel; // ë‹¤ìŒ ì¦ê°€ëŸ‰ í‘œì‹œ
        document.getElementById('feed-n-display').innerText = feedAmount;
        
        document.getElementById('btn-click').innerText = `${clickCost} ğŸ¥`;
        document.getElementById('btn-auto').innerText = `${autoCost} ğŸ¥`;
        document.getElementById('btn-feed-up').innerText = `${feedUpgradeCost} ğŸ¥`;
        
        document.getElementById('st-clicks').innerText = totalClicks.toLocaleString();
        document.getElementById('st-fed').innerText = totalFed.toLocaleString();
        document.getElementById('st-yeeun').innerText = (Math.floor(totalFed / 10) + bonusYeeun).toLocaleString();
        
        document.getElementById('btn-click').disabled = breadCount < clickCost;
        document.getElementById('btn-auto').disabled = breadCount < autoCost;
        document.getElementById('btn-feed-up').disabled = breadCount < feedUpgradeCost;
    }
    setInterval(() => { if (autoPower > 0) { breadCount += autoPower; updateUI(); } }, 1000);
</script>
</body>
</html>
